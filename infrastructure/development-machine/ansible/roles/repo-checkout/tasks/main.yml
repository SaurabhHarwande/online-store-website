---
- name: Ensure workspace directory exists
  file:
    path: /root/workspace
    state: directory
    mode: '0755'

- name: Check if repository already exists
  stat:
    path: /root/workspace/online-store-website
  register: repo_stat

- name: Clone online-store-website repository
  git:
    repo: git@github.com:SaurabhHarwande/online-store-website.git
    dest: /root/workspace/online-store-website
    version: main
    accept_hostkey: yes
  when: not repo_stat.stat.exists

- name: Update repository if it already exists
  git:
    repo: git@github.com:SaurabhHarwande/online-store-website.git
    dest: /root/workspace/online-store-website
    version: main
    update: yes
  when: repo_stat.stat.exists

- name: Display repository clone complete message
  debug:
    msg:
      - "Repository checkout complete!"
      - "Location: /root/workspace/online-store-website"
